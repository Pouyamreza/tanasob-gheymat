# محاسبه‌گر دامنه قیمت متناسب مناقصه

این برنامه یک ابزار تحت وب و مدرن برای محاسبه دامنه قیمت متناسب در فرآیندهای مناقصه، بر اساس آیین‌نامه اجرایی معاملات دولتی است. این ابزار با پیاده‌سازی دقیق الگوریتم‌های استاندارد، به کاربران (کارشناسان خرید، مناقصه‌گذاران و شرکت‌کنندگان) کمک می‌کند تا به سرعت و با دقت بالا، پیشنهادهای قیمت را ارزیابی کنند.

## ویژگی‌های کلیدی

-   **رابط کاربری مدرن و واکنش‌گرا (Responsive):** طراحی زیبا و کاربرپسند که در دستگاه‌های مختلف (موبایل، تبلت و دسکتاپ) به درستی نمایش داده می‌شود.
-   **پیاده‌سازی دقیق الگوریتم:** محاسبات بر اساس فرمول‌های پارامتری و استاندارد مناقصات انجام می‌شود.
-   **ورودی‌های هوشمند:** راهنمایی‌های لازم برای هر فیلد ورودی جهت جلوگیری از خطاهای کاربری.
-   **نمایش شماتیک و گرافیکی:** نتایج به صورت یک نمودار بصری نمایش داده می‌شوند که در آن، پیشنهادهای متناسب با تیک سبز (✓) و غیرمتناسب با ضربدر قرمز (✗) مشخص می‌گردند.
-   **جدول جزئیات کامل:** وضعیت هر پیشنهاد به همراه مبلغ و علامت مربوطه در یک جدول منظم نمایش داده می‌شود.
-   **خروجی PDF:** امکان ذخیره‌سازی کامل نتایج (شامل نمودار، جدول و خلاصه محاسبات) در فایل PDF جهت آرشیو یا گزارش‌دهی.
-   **اعتبارسنجی ورودی:** برنامه از ورود داده‌های نامعتبر جلوگیری کرده و پیام‌های خطای واضحی نمایش می‌دهد.

---

## الگوریتم محاسبات (مراحل گام به گام)

برنامه از الگوریتم زیر برای تعیین دامنه قیمت متناسب استفاده می‌کند:

### ۱. ورود اطلاعات اولیه
کاربر لیست قیمت‌های پیشنهادی ($P_1, P_2, ..., P_n$) را وارد می‌کند.

### ۲. ترتیب و حذف قیمت‌های پرت
- تمام پیشنهادها به صورت صعودی مرتب می‌شوند.
- مطابق با پارامتر ورودی $m$، تعداد $m$ پیشنهاد از بالاترین قیمت و $m$ پیشنهاد از پایین‌ترین قیمت حذف می‌شوند.

### ۳. محاسبه میانگین تعدیل‌یافته
- تعداد پیشنهادهای باقی‌مانده: $k = n - 2m$ - مجموع قیمت‌های باقی‌مانده: $S = \sum_{i=m+1}^{n-m} P_i$ - میانگین تعدیل‌یافته ($\overline{P}$) از فرمول زیر محاسبه می‌شود:
P̄ = S / k
### ۴. تعیین دامنه قابل قبول
با استفاده از ضریب دامنه مجاز ($\alpha$) که توسط کاربر وارد می‌شود، حد بالا و پایین دامنه به صورت زیر محاسبه می‌گردد:
حد پایین دامنه = P̄ × (1 - α)
حد بالا دامنه = P̄ × (1 + α)

### ۵. بررسی و انتخاب پیشنهادهای متناسب
هر پیشنهاد $P_j$ که در بازه `[حد پایین دامنه, حد بالا دامنه]` قرار گیرد، به عنوان یک پیشنهاد **متناسب** شناخته می‌شود.

---

## نحوه استفاده

1.  **ذخیره فایل:**
    کد منبع برنامه را در یک فایل با پسوند `.html` (مثلاً `tender-calculator.html`) ذخیره کنید.

2.  **باز کردن فایل:**
    فایل `tender-calculator.html` را با هر مرورگر وب مدرنی (مانند Chrome, Firefox, Edge) در کامپیوتر یا گوشی هوشمند خود باز کنید. نیازی به نصب نرم‌افزار خاصی نیست.

3.  **وارد کردن اطلاعات:**
    - **لیست قیمت‌ها:** تمام قیمت‌های پیشنهادی شرکت‌کنندگان را، هر کدام در یک خط، در کادر متن اول وارد کنید.
    - **تعداد حذفی (m):** تعداد پیشنهادهایی که باید از بالا و پایین حذف شوند را وارد کنید (مثلاً `1`).
    - **ضریب دامنه (α):** درصد انحراف مجاز را به صورت اعشاری وارد کنید (مثلاً برای 15%، عدد `0.15` را وارد نمایید).

4.  **محاسبه نتایج:**
    بر روی دکمه **"محاسبه و نمایش نتایج"** کلیک کنید.

5.  **مشاهده و ذخیره نتایج:**
    - نتایج شامل میانگین تعدیل‌یافته، حد بالا و پایین دامنه، نمودار شماتیک و جدول جزئیات نمایش داده می‌شوند.
    - برای ذخیره گزارش کامل، بر روی دکمه **"ذخیره نتایج به صورت PDF"** کلیک کنید.

---

## جزئیات فنی

-   **فناوری‌های به کار رفته:**
    -   `HTML5` برای ساختار صفحه
    -   `CSS3` (با متغیرها و Flexbox/Grid) برای استایل‌دهی و طراحی واکنش‌گرا
    -   `Vanilla JavaScript (ES6+)` برای منطق و محاسبات
    -   `jsPDF` و `html2canvas` برای تولید فایل PDF
    -   فونت `Vazirmatn` از Google Fonts برای نمایش بهینه متن فارسی

-   **سازگاری:** برنامه در تمام مرورگرهای مدرن که از HTML5 و JavaScript پشتیبانی می‌کنند، به درستی کار می‌کند.

---

## توسعه‌دهنده و حقوق مولف

این نرم‌افزار توسط **م.رضا پویا** توسعه یافته است.

کلیه حقوق این نرم‌افزار محفوظ بوده و استفاده از آن با ذکر منبع بلامانع است.
© 2024
